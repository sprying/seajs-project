define("widget/validator/1.12.0/ys_validator",["./jquery.validate"],function(a){a("./jquery.validate"),a("./validate.css"),jQuery.validator.addMethod("phone",function(a,b){return this.optional(b)||/^(13[0-9]{9}|145[0-9]{8}|147[0-9]{8}|15[0-9]{9}|170[0-9]{8}|18[0-9]{9})$/.test(a)},"请输入有效的手机号"),jQuery.validator.addMethod("nameRule",function(a,b){return this.optional(b)||!/^_*$|^\d*$/.test(a)},"不能全为下划线或者数字"),jQuery.validator.addMethod("illegal",function(a,b){return this.optional(b)||!/[\^\$\.\*\+\?\=\!\:\|\\\/\(\)\[\]\{\}\%\&\'\"\<\>]/.test(a)},"名称不能包含非法字符"),jQuery.validator.addMethod("cameraName",function(a,b){return this.optional(b)||!/^.*[\\\\/:\\*\\?\"<>\\|'%]+.*$/.test(a)},"名称不能包含非法字符"),jQuery.validator.addMethod("address",function(a,b){return this.optional(b)||!/[\^\$\.\*\+\?\=\!\:\|\\\/\(\)\[\]\{\}\%\'\"\<\>]/.test(a)},"不能包含非法字符"),jQuery.validator.addMethod("equalNum",function(a,b,c){return this.optional(b)||new RegExp("^.{"+c+"}$").test(a)},jQuery.validator.format("手机号长度要为{0}位")),jQuery.validator.addMethod("notEq",function(a,b,c){return this.optional(b)||a!=c},jQuery.validator.format("备注没改变哦")),jQuery.validator.addMethod("remote",function(a,b,c){if(this.optional(b))return"dependency-mismatch";var d,e,f,g=this.previousValue(b);return this.settings.messages[b.name]||(this.settings.messages[b.name]={}),g.originalMessage=this.settings.messages[b.name].remote,this.settings.messages[b.name].remote=g.message,c="string"==typeof c&&{url:c}||c,g.old===a?g.valid:(g.old=a,d=this,this.startRequest(b),e={},e[b.name]=a,$.ajax(f=$.extend(!0,{url:c,mode:"abort",port:"validate"+b.name,dataType:"json",data:e,context:d.currentForm,success:function(c){var e,h,i,j,k,l=c===!0||"true"===c;j=c,"function"==typeof f.handler&&(k=f.handler.call(f,c),l=k===!0,l||(j=k)),d.settings.messages[b.name].remote=g.originalMessage,l?(i=d.formSubmitted,d.prepareElement(b),d.formSubmitted=i,d.successList.push(b),delete d.invalid[b.name],d.showErrors()):(e={},h=j||d.defaultMessage(b,"remote"),e[b.name]=g.message=$.isFunction(h)?h(a):h,d.invalid[b.name]=!0,d.showErrors(e)),g.valid=l,d.stopRequest(b,l)}},c)),"pending")}),jQuery.extend(jQuery.validator.messages,{required:"不能为空",number:"请输入数字",minlength:jQuery.validator.format("不能少于{0}个字符"),maxlength:jQuery.validator.format("不能超过{0}个字符")});var b=jQuery.validator.prototype.resetForm;jQuery.validator.prototype.resetForm=function(){$(".tip").show(),$(".success").remove(),b.call(this)},jQuery.validator.setDefaults({highlight:function(a,b,c){$(a).nextAll(".tip:eq(0)").hide(),setTimeout(function(){$(a).next().next(".error").show()},0),$(a).removeClass(c).addClass(b),$(a).next(".success").remove()},unhighlight:function(a,b,c){$(a).nextAll(".tip:eq(0)").show(),setTimeout(function(){$(a).next().next(".error").hide()},0),$(a).removeClass(b).addClass(c)},success:function(a,b){function c(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null)[b]:void 0}this.noTip=this.noTip||[];for(var d=$(b),e=d.position(),f=d[0],g=Number(/\d+/.exec(c(f,"marginTop"))),h=Number(/\d+/.exec(c(f,"paddingBottom"))),i=Number(/\d+/.exec(c(f,"marginLeft"))),j=0,k=this.noTip.length;k>j;j++)if(d.is("[name="+this.noTip[j]+"]"))return;$.trim(d.val()).length&&(d.next(".success").length||d.after('<span style="position:absolute;left: '+(Number(e.left)+d.outerWidth()+i+4)+"px;top:"+(Number(e.top)+g+d.outerHeight()-17-h)+'px" class="success"></span>'))}})});